generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model ContenidoInicio {
  id          Int      @id @default(autoincrement())
  titulo      String
  descripcion String?
  imagenUrl   String?
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model Usuario {
  id          Int          @id @default(autoincrement())
  nombre      String
  apellido    String
  email       String       @unique
  password    String
  rol         String       @default("administrador")
  creadoEn    DateTime     @default(now())
  actividades Actividad[]
  historia    Historia[]
  multimedia  Multimedia[]
  novedades   Novedad[]
}

model Novedad {
  id               Int      @id @default(autoincrement())
  titulo           String
  contenido        String
  fechaPublicacion DateTime @default(now())
  imagenUrl        String?
  usuarioId        Int?
  usuario          Usuario? @relation(fields: [usuarioId], references: [id])
}

model Actividad {
  id          Int       @id @default(autoincrement())
  nombre      String
  descripcion String?
  fecha       DateTime?
  tipo        String?
  lugar       String?
  usuarioId   Int?
  usuario     Usuario?  @relation(fields: [usuarioId], references: [id])
}

model Historia {
  id          Int       @id @default(autoincrement())
  titulo      String
  descripcion String?
  fecha       DateTime?
  archivoUrl  String?
  usuarioId   Int?
  usuario     Usuario?  @relation(fields: [usuarioId], references: [id])
}

model Multimedia {
  id             Int      @id @default(autoincrement())
  tipo           String
  url            String
  descripcion    String?
  relacionadoCon String?
  idRelacionado  Int?
  usuarioId      Int?
  usuario        Usuario? @relation(fields: [usuarioId], references: [id])
}

model Contacto {
  id         Int      @id @default(autoincrement())
  nombre     String
  email      String
  mensaje    String
  fechaEnvio DateTime @default(now())
}
